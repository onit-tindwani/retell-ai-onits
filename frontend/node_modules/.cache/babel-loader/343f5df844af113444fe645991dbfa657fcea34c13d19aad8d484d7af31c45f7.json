{"ast":null,"code":"import React,{useState,useEffect}from'react';import{LineChart,Line,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer}from'recharts';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Analytics=()=>{const[analyticsData,setAnalyticsData]=useState([]);const[isLoading,setIsLoading]=useState(true);const[timeRange,setTimeRange]=useState('week');useEffect(()=>{const fetchAnalytics=async()=>{try{const response=await fetch(\"/api/analytics?timeRange=\".concat(timeRange));if(!response.ok){throw new Error('Failed to fetch analytics');}const data=await response.json();setAnalyticsData(data);}catch(error){console.error('Error fetching analytics:',error);}finally{setIsLoading(false);}};fetchAnalytics();},[timeRange]);if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-100 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600\"})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-3xl mx-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow sm:rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-gray-900\",children:\"Analytics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTimeRange('week'),className:\"px-3 py-1 text-sm font-medium rounded-md \".concat(timeRange==='week'?'bg-primary-100 text-primary-700':'text-gray-500 hover:text-gray-700'),children:\"Week\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTimeRange('month'),className:\"px-3 py-1 text-sm font-medium rounded-md \".concat(timeRange==='month'?'bg-primary-100 text-primary-700':'text-gray-500 hover:text-gray-700'),children:\"Month\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTimeRange('year'),className:\"px-3 py-1 text-sm font-medium rounded-md \".concat(timeRange==='year'?'bg-primary-100 text-primary-700':'text-gray-500 hover:text-gray-700'),children:\"Year\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-96\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(LineChart,{data:analyticsData,margin:{top:5,right:30,left:20,bottom:5},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\"}),/*#__PURE__*/_jsx(YAxis,{yAxisId:\"left\"}),/*#__PURE__*/_jsx(YAxis,{yAxisId:\"right\",orientation:\"right\"}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Line,{yAxisId:\"left\",type:\"monotone\",dataKey:\"calls\",stroke:\"#8884d8\",name:\"Number of Calls\"}),/*#__PURE__*/_jsx(Line,{yAxisId:\"left\",type:\"monotone\",dataKey:\"duration\",stroke:\"#82ca9d\",name:\"Duration (minutes)\"}),/*#__PURE__*/_jsx(Line,{yAxisId:\"right\",type:\"monotone\",dataKey:\"successRate\",stroke:\"#ffc658\",name:\"Success Rate (%)\"})]})})})]})})})})});};export default Analytics;","map":{"version":3,"names":["React","useState","useEffect","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","jsx","_jsx","jsxs","_jsxs","Analytics","analyticsData","setAnalyticsData","isLoading","setIsLoading","timeRange","setTimeRange","fetchAnalytics","response","fetch","concat","ok","Error","data","json","error","console","className","children","onClick","width","height","margin","top","right","left","bottom","strokeDasharray","dataKey","yAxisId","orientation","type","stroke","name"],"sources":["C:/Users/Admin/Desktop/Retell-AI-Onits/frontend/src/components/Analytics.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer,\r\n} from 'recharts';\r\n\r\ninterface AnalyticsData {\r\n  date: string;\r\n  calls: number;\r\n  duration: number;\r\n  successRate: number;\r\n}\r\n\r\nconst Analytics: React.FC = () => {\r\n  const [analyticsData, setAnalyticsData] = useState<AnalyticsData[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [timeRange, setTimeRange] = useState<'week' | 'month' | 'year'>('week');\r\n\r\n  useEffect(() => {\r\n    const fetchAnalytics = async () => {\r\n      try {\r\n        const response = await fetch(`/api/analytics?timeRange=${timeRange}`);\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch analytics');\r\n        }\r\n        const data = await response.json();\r\n        setAnalyticsData(data);\r\n      } catch (error) {\r\n        console.error('Error fetching analytics:', error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchAnalytics();\r\n  }, [timeRange]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100\">\r\n      <div className=\"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"max-w-3xl mx-auto\">\r\n          <div className=\"bg-white shadow sm:rounded-lg\">\r\n            <div className=\"px-4 py-5 sm:p-6\">\r\n              <div className=\"flex justify-between items-center mb-6\">\r\n                <h3 className=\"text-lg leading-6 font-medium text-gray-900\">\r\n                  Analytics\r\n                </h3>\r\n                <div className=\"flex space-x-2\">\r\n                  <button\r\n                    onClick={() => setTimeRange('week')}\r\n                    className={`px-3 py-1 text-sm font-medium rounded-md ${\r\n                      timeRange === 'week'\r\n                        ? 'bg-primary-100 text-primary-700'\r\n                        : 'text-gray-500 hover:text-gray-700'\r\n                    }`}\r\n                  >\r\n                    Week\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setTimeRange('month')}\r\n                    className={`px-3 py-1 text-sm font-medium rounded-md ${\r\n                      timeRange === 'month'\r\n                        ? 'bg-primary-100 text-primary-700'\r\n                        : 'text-gray-500 hover:text-gray-700'\r\n                    }`}\r\n                  >\r\n                    Month\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setTimeRange('year')}\r\n                    className={`px-3 py-1 text-sm font-medium rounded-md ${\r\n                      timeRange === 'year'\r\n                        ? 'bg-primary-100 text-primary-700'\r\n                        : 'text-gray-500 hover:text-gray-700'\r\n                    }`}\r\n                  >\r\n                    Year\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"h-96\">\r\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                  <LineChart\r\n                    data={analyticsData}\r\n                    margin={{\r\n                      top: 5,\r\n                      right: 30,\r\n                      left: 20,\r\n                      bottom: 5,\r\n                    }}\r\n                  >\r\n                    <CartesianGrid strokeDasharray=\"3 3\" />\r\n                    <XAxis dataKey=\"date\" />\r\n                    <YAxis yAxisId=\"left\" />\r\n                    <YAxis yAxisId=\"right\" orientation=\"right\" />\r\n                    <Tooltip />\r\n                    <Legend />\r\n                    <Line\r\n                      yAxisId=\"left\"\r\n                      type=\"monotone\"\r\n                      dataKey=\"calls\"\r\n                      stroke=\"#8884d8\"\r\n                      name=\"Number of Calls\"\r\n                    />\r\n                    <Line\r\n                      yAxisId=\"left\"\r\n                      type=\"monotone\"\r\n                      dataKey=\"duration\"\r\n                      stroke=\"#82ca9d\"\r\n                      name=\"Duration (minutes)\"\r\n                    />\r\n                    <Line\r\n                      yAxisId=\"right\"\r\n                      type=\"monotone\"\r\n                      dataKey=\"successRate\"\r\n                      stroke=\"#ffc658\"\r\n                      name=\"Success Rate (%)\"\r\n                    />\r\n                  </LineChart>\r\n                </ResponsiveContainer>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Analytics; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}